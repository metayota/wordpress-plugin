<!doctype html>
<html lang="en">

<head>
    <base href="/" target="_blank">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="data:image/x-icon;,">
    <title>Metayota</title>
    <script type="text/javascript" src="/resource/framework.javascript"></script>
    <script type="text/javascript">
        function getBrowserLanguage() {
            return navigator.languages.find(
                lang => ['de', 'en', 'fr', 'zh','es','ja','ru','hi'].some(supportedLang => lang.startsWith(supportedLang))
            );
        }

        function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        }

        var language;
        if (window.location.hostname.includes('.de')) {
        language = 'de';
        } else {
        language = getCookie('language') || getBrowserLanguage() || 'en';

        // Convert language variations to standard language codes
        if (language.startsWith('de')) {
            language = 'de';
        } else if (language.startsWith('en')) {
            language = 'en';
        } else if (language.startsWith('fr')) {
            language = 'fr';
        } else if (language.startsWith('zh')) {
            language = 'zh';
        }
        }

//        var language = window.location.hostname.includes('.de') ? 'de' : 'en';
        Resource.appendToAllRequests({language: language});
        window.cacheEnabled$ = true
        window.loadedPromise = Resource.loadPack(['editor','form.button','database.table.editor','designer','dialog','dropdown','editor.call','editor.css','editor.defaults','editor.dependencies','form.livesearch','overview','play','ratings','rc.accesscontrol','rc.account','rc.change','rc.db.table','rc.editor.tasks','rc.project','rc.spider','router','search','settings','tabs','toast','todo','translate','vs.codeeditor','db.row.editor','db.table','form.resource','form.text','object.viewparameter','editor.manage.project','editor.parameters','resource.configuration','when','resource','design.item','form.element','base.form.element','editor.addresource','user','login','object.view','innerhtml','stars.rating','task','title','task.list','rc.code','form.radio','where','parametertype','rc.dependencies.view','rc.parameters.view','rc.table','db.list','rc.diff','form.checkbox','form.textarea','text','vscode.inc','design.resparameter','form.array','form.tagtype','form.text.translated','rc.arrange','rc.resource.config','rc.validator.regex','form.number','form.addresource','loader','editor.welcome','resource_type', 'editor.server.login','create-free-webspace','user_obj']);
    </script>
    <link rel="stylesheet" type="text/css" href="/resource/editor.index.css">
    <link rel="stylesheet" type="text/css" href="/call/rc.choose.background/get_dynamic_css">
    <link rel="apple-touch-icon-precomposed" href="/images/icons/apple-touch-icon.png">
    <link rel="icon" href="/images/icons/favicon.ico">
</head>

<body>
    <div id="main-spinner" class="spinner"></div>
    <script type="text/javascript">
        window.loadedPromise.then(result=> {
            let node = Tag.render('editor').node
		    document.body.appendChild(node);
        })
		
    </script>
</body>

</html>